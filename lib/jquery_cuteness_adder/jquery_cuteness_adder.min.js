(t=>{let e="background",s="position",o="mouse";t.fn.addCuteness=function(e={}){return this.each(((l,a)=>{let c,r=t(a),i=0,d=0,f=t('<div style="left:0;top:0;"></div>');"static"===r.css(s)&&r.css(s,"relative"),r.append(f);let h=new n(f,e.speed,e.color,e.sprite);function p(){c=setInterval((()=>{h.T({x:i,y:d})}),100)}r.on(o+"move",(e=>{i=e.offsetX,d=e.offsetY;let s=e.target;for(;s!==e.currentTarget;){let e,o=t(s).offset();s=t(s).parent()[0],e=t(s).offset(),i+=o.left-e.left,d+=o.top-e.top}c||p()})),r.on(o+"enter",p),r.on(o+"leave",(()=>{clearInterval(c),h.S()}))}))};let l=Math;class n{dx=0;dy=0;constructor(t,o,n,a){let c=this,r=(new Option).style,i=[1,7,4,2],d=[3,10],f=[[2,3,6,3],[1,3,8,3],[1,2,10,2]],h=[5,8],p=[4,9],x=[1,6,5,2],y=[5,6,1,2],u=[5,9],g=[1,6],m=[0,5,1,2],q=[[0,8],[0,8,6,1],[3,5,6,2],[1,7,6,2],[4,5,4,3]],v=[[2,1,1,11],[4,10],u,[6,7]],b=[7,1,3,1],U=[6,3,1,3],w=[[4,3,4,3],p,p,p],X=[1,7,3,3],C={cat:[,[1,1,5,1,5,2],[1,2,3,2,5,2],[1,7,5,2],[1,7,4,3],i,[2,5,4,3],[3,3,5,2],d,d,d,...f,,,[1,1,5,1],[1,2,3,2,3,2],X,X,i,[2,5,5,2],[3,3,5,3],d,d,d,[3,9],[4,2,4,2],[4,3,2,3],[5,2,2,2],,,[3,1,5,1],[3,2,3,2],[3,7],[3,7,3,2],[3,7,2,3],[4,5,3,2],[5,3,4,2],[5,4,2,3],[5,5,1,2],h,h,h,p,[4,8]],dog:[,,[4,1,1,1],[3,4,3,2],[2,5,4,2],x,x,...w,d,...f,,,,[4,1,1,1,7,1],[3,4,6,2],[2,5,6,2],[1,6,6,2],[1,6,5,3],...w,p,[4,3,3,3],[5,3,1,3],[6,2,1,2],,,,[6,1,1,1],[5,4],[4,5],[3,6],[3,6,2,1],[6,3,2,2],[6,4,1,3],[6,4,2,2],y,y,u,p,[4,8]],dino:[g,m,...q,[4,12],[3,12],...v,[4,1,1,2,3,3],[5,2,7,1],,g,m,...q,[4,12],[2,13],...v,[7,2,1,2],b,[6,2,2,2],g,[0,3,1,1,1,2],...q,[3,13],[2,13],...v,U,b,U]},E=document.createElement("canvas"),J=E.getContext("2d");if(c.q=t,c.s=o>2?o:3,c._o=8+c.s,r.color=n,!r.color){n="#";for(let t=0;t<6;t++)n+="0369CF"[l.floor(6*l.random())]}E.width=16,E.height=48,J.fillStyle=n,C[a]||(a=Object.keys(C)[l.floor(3*l.random())]),C[a].forEach(((t,e)=>{let s=0;t.forEach(((t,o)=>{o%2&&J.fillRect(s,e,t,1),s+=t}))}));let K=E.toDataURL();c.q.css(e+"-image","url("+K+")").css(s,"absolute").css("width","16px").css("height","16px"),c.U(2)}K(){this.dx=0}J(){this.dy=0}T(t){let e=this,s=e.q.position(),o=s.left,n=s.top,a=t.x-o-8,c=t.y-n-8,r=l.abs(t.x-o),i=l.abs(t.y-n),d=e.s/l.sqrt(r*r+i*i);l.abs(a)<=e._o?e.K():a<0?e.dx=-1:a>0&&(e.dx=1),l.abs(c)<=e._o?e.J():c<0?e.dy=-1:c>0&&(e.dy=1),e.X(),e.q.css("left",o+r*d*e.dx+"px").css("top",n+i*d*e.dy+"px")}X(){let t=this,e="transform";0!==t.dx||0!==t.dy?1===t.sn?t.U(0):t.U(1):t.U(2),1===t.dx?t.q.css(e,"scale(-1, 1)"):-1===t.dx&&t.q.css(e,"none")}U(t){this.sn=t,this.q.css(e+"-"+s+"-y","-"+16*t+"px")}S(){this.K(),this.J(),this.X()}G(t,e){}}})(jQuery);